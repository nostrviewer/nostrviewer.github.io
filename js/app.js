(()=>{var s;window.seenEvents=new Set,s=()=>{const s=(()=>{const s=new URL(window.location.href);return new URLSearchParams(s.search).get("tag")??"nostr"})();["wss://nostr.wine","wss://at.nostrworks.com","wss://btc.klendazu.com","wss://knostr.neutrine.com","wss://nos.lol","wss://nostr.bitcoiner.social","wss://nostr.cercatrova.me","wss://nostr.corebreach.com","wss://no.str.cr","wss://nostr-dev.wellorder.net","wss://nostr.einundzwanzig.space","wss://nostr.mom","wss://nostr.noones.com","wss://nostr.oxtr.dev","wss://nostr-pub.wellorder.net","wss://nostr.sectiontwo.org","wss://nostr.semisol.dev","wss://nostr.swiss-enigma.ch","wss://nostr-verified.wellorder.net","wss://nostr.vulpem.com","wss://nostr.yael.at","wss://relay.damus.io","wss://relay.nostr.bg","wss://relay.snort.social","wss://nostr.mining.sc","wss://soloco.nl"].forEach((e=>{const o=new WebSocket(e);o.onopen=()=>{console.log("WebSocket opened: "+e);const n=["REQ",[...Array(16)].map((()=>Math.random().toString(36)[2])).join(""),{kinds:[1],"#t":[s],limit:5}];o.send(JSON.stringify(n))},o.onclose=()=>{console.log("Disconnected from relay.")},o.onerror=s=>{console.error("WebSocket error:",s)},o.onmessage=s=>{const e=JSON.parse(s.data);if("EVENT"===e[0]){const s=e[2];if(!window.seenEvents.has(s.id)){window.seenEvents.add(s.id);const e=(s=>{const e=document.getElementById("event_template").content.cloneNode(!0),o=e.querySelector("li");return o.id=s.id,o.innerHTML=(s=>{if(!s)return"";let e=s.replace(/\n/g,"<br>");return e=e.replace(/(https?:\/\/[^\s]+?\.(jpg|jpeg|png|gif))/g,'<img src="$1" alt="Image">'),e=e.replace(/(https?:\/\/[^\s]+?\.(mp4|webm|ogg))/g,'<video controls><source src="$1" type="video/$2">Your browser does not support the video tag.</video>'),e})(s.content),e})(s);document.getElementById("postlist").appendChild(e)}}else e[0]}}))},"loading"!==document.readyState?s():document.addEventListener("DOMContentLoaded",s)})();